function DatePicker(e,t){var a=13,n=27,o=32,i=37,s=38,d=39,r=40,u={gb:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayAbbr:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],buttons:{previous:"Previous",next:"Next",close:"Cancel",dialogTrigger:"Choose date"},aria:{previousMonth:"Previous month",nextMonth:"Next month",dayInPast:"You cannot select a day before",dayInFuture:"You cannot select a day after"}},cy:{days:["Dydd Sul","Dydd Llun","Dydd Mawrth","Dydd Mercher","Dydd Iau","Dydd Gwener","Dydd Sadwrn"],dayAbbr:["Su","Ll","Ma","Me","Ia","Gw","Sa"],months:["Ionawr","Chwefror","Mawrth","Ebrill","Mai","Mehefin","Gorffennaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr"],buttons:{previous:"Blaenorol",next:"Nesaf",close:"Wedi'i ganslo",dialogTrigger:"Dewiswch ddyddiad"},aria:{previousMonth:"Mis blaenorol",nextMonth:"Mis nesaf",dayInPast:"Ni allwch ddewis ddiwrnod cynt",dayInFuture:"Ni allwch ddewis ddiwrnod ar Ã´l"}}},l={container:e,buttons:{},table:{},inputs:{day:e.querySelector(".date-picker-day"),month:e.querySelector(".date-picker-month"),year:e.querySelector(".date-picker-year")},ariaLiveMessage:null,heading:{},dialog:{}},c={isOpen:!1,isPreviousEnabled:!1,isNextEnabled:!0,maxDate:t.maxDate||null,minDate:t.minDate||new Date,language:t.language,focusedDate:new Date,days:[]};if(u.ni=u.gb,!(e&&l.inputs.month&&l.inputs.year&&l.inputs.day&&t))return console.warn("Date picker not configured correctly");if(!((c.maxDate instanceof Date||null===c.maxDate)&&c.minDate instanceof Date))return console.warn("Date picker min and max dates must be of type Date");if(!(Object.keys(u).indexOf(t.language)>-1))return console.warn("Date picker does not currently support language "+t.language);function h(e){return e.getDate()+" "+u[c.language].months[e.getMonth()]+" "+e.getFullYear()}function b(){return 11===c.focusedDate.getMonth()?new Date(c.focusedDate.getFullYear()+1,0,1):new Date(c.focusedDate.getFullYear(),c.focusedDate.getMonth()+1,1)}function g(){return 1===c.focusedDate.getMonth()?new Date(c.focusedDate.getFullYear()-1,12,1):new Date(c.focusedDate.getFullYear(),c.focusedDate.getMonth()-1,1)}function y(e){var t=document.createElement("p");t.setAttribute("class","aria-live-message govuk-visually-hidden"),t.setAttribute("aria-live","assertive"),t.innerText=e,l.ariaLiveMessage=t,l.dialog.appendChild(l.ariaLiveMessage)}function p(){var e,t;if(l.ariaLiveMessage)for(e=document.querySelectorAll(".aria-live-message"),t=0;t<e.length;t++)l.dialog.removeChild(e[t])}function D(e){c.days[e].element.setAttribute("tabindex","0"),c.days[e].element.focus(),p()}function f(){c.isOpen=!1,l.dialog.classList.add("date-picker__dialog--hidden"),l.buttons.revealButton.focus()}function v(){c.focusedDate=c.nextMonth,c.nextMonth=b(),c.previousMonth=g()}function m(){c.focusedDate=new Date(c.previousMonth.getFullYear(),c.previousMonth.getMonth()+1,0),c.nextMonth=b(),c.previousMonth=g()}function M(e){c.isOpen&&e.target!==l.dialog&&!l.dialog.contains(e.target)&&(f(),e.preventDefault())}function k(e){var t=document.body.querySelector(".timeout-dialog");c.isOpen&&e.target!==l.dialog&&!l.dialog.contains(e.target)&&e.target!==t?(e.stopPropagation(),l.dialog.focus()):e.target===t&&(document.removeEventListener("focus",k,!0),f())}function x(e){c.isOpen&&e.keyCode===n&&f()}function w(e){var t=!1;switch(e.type){case"keydown":switch(e.keyCode){case n:case a:case o:f(),t=!0}break;case"click":f(),t=!0}t&&(e.stopPropagation(),e.preventDefault())}function _(e){var t=!1;function i(){var e,a;a={day:l.inputs.day.value,month:l.inputs.month.value,year:l.inputs.year.value},e=parseInt(a.day,10)&&parseInt(a.month,10)&&parseInt(a.year,10)&&!(a.day>31||a.month>12)&&a.day<=new Date(a.year,a.month,0).getDate()?new Date(a.year,a.month-1,a.day):new Date,c.minDate&&B(e)?c.focusedDate=new Date(c.minDate.getFullYear(),c.minDate.getMonth(),c.minDate.getDate()):c.maxDate&&E(e)?c.focusedDate=new Date(c.maxDate.getFullYear(),c.maxDate.getMonth(),c.maxDate.getDate()):c.focusedDate=e,c.nextMonth=b(),c.previousMonth=g(),c.isOpen=!0,l.dialog.classList.remove("date-picker__dialog--hidden"),P(),t=!0}switch(e.type){case"keydown":switch(e.keyCode){case n:case a:case o:i()}break;case"click":i()}t&&(e.stopPropagation(),e.preventDefault())}function L(e){var t=!1;function i(){c.isPreviousEnabled?(m(),P(),l.buttons.previousMonthButton.focus()):(p(),y(u[c.language].aria.dayInPast+" "+h(c.minDate)),l.dialog.focus()),t=!0}switch(e.type){case"keydown":switch(e.keyCode){case n:case a:case o:i()}break;case"click":i()}t&&(e.stopPropagation(),e.preventDefault())}function I(e){var t=!1;function i(){c.isNextEnabled?(v(),P(),l.buttons.nextMonthButton.focus()):(p(),y(u[c.language].aria.dayInFuture+" "+h(c.maxDate)),l.dialog.focus()),t=!0}switch(e.type){case"keydown":switch(e.keyCode){case n:case a:case o:i()}break;case"click":i()}t&&(e.stopPropagation(),e.preventDefault())}function F(e){var t,b,g=this,M=!1;function k(){g.isDisabled?(p(),y(u[c.language].aria.dayInPast+" "+h(c.minDate)),l.dialog.focus()):(!function(e){var t=function(e){return e<=9?"0"+e:e};l.inputs.day.value=t(e.getDate()),l.inputs.month.value=t(e.getMonth()+1),l.inputs.year.value=e.getFullYear()}(g.date),f()),M=!0}function x(){for(var e=0;e<c.days.length;e++)c.days[e].element.setAttribute("tabindex","-1")}switch(e.type){case"keydown":switch(e.keyCode){case n:f(),M=!0;break;case a:case o:k();break;case i:t=g.index-1,(b=c.days[t])?b.isDisabled||b.isInPreviousMonth?!b.isDisabled&&b.isInPreviousMonth?(x(),D(t),m(),P()):(p(),y(u[c.language].aria.dayInPast+" "+h(c.minDate))):(x(),D(t),c.focusedDate=b):(m(),P()),M=!0;break;case d:!function(){var e=g.index+1,t=c.days[e];t?t.isDisabled||t.isInNextMonth?!t.isDisabled&&t.isInNextMonth?(v(),x(),D(e),P()):(p(),y(u[c.language].aria.dayInFuture+" "+h(c.maxDate))):(x(),D(e),c.focusedDate=t):(v(),P()),M=!0}();break;case s:!function(){var e=g.index-7,t=c.days[e];t?t.isDisabled||t.isInPreviousMonth?!t.isDisabled&&t.isInPreviousMonth?(m(),x(),D(e),P()):(p(),y(u[c.language].aria.dayInPast+" "+h(c.minDate))):(x(),D(e),c.focusedDate=t):(m(),P()),M=!0}();break;case r:!function(){var e=g.index+7,t=c.days[e];t?t.isDisabled||t.isInNextMonth?!t.isDisabled&&t.isInNextMonth?(v(),x(),D(e),P()):(p(),y(u[c.language].aria.dayInFuture+" "+h(c.maxDate))):(x(),D(e),c.focusedDate=t):(v(),P()),M=!0}()}break;case"click":k()}M&&(e.stopPropagation(),e.preventDefault())}function C(e){var t={element:document.createElement("button"),date:new Date(e.year,e.month,e.day),isDisabled:!1,isToday:!1,isInCurrentMonth:!1,isInPreviousMonth:!1,isInNextMonth:!1};return t.element.setAttribute("type","button"),t.element.setAttribute("tabindex","-1"),t.element.innerHTML=t.date.getDate(),t.element.classList.add("date__button"),t.date.getMonth()===c.focusedDate.getMonth()&&t.date.getFullYear()===c.focusedDate.getFullYear()?(t.isInCurrentMonth=!0,t.element.classList.remove("date__button--inactive")):(t.isInCurrentMonth=!1,t.element.classList.add("date__button--inactive")),t.isInCurrentMonth||(t.date>c.focusedDate?t.isInNextMonth=!0:t.isInPreviousMonth=!0),c.maxDate&&E(t.date)||c.minDate&&B(t.date)?(t.isDisabled=!0,t.element.classList.add("date__button--disabled"),t.element.setAttribute("aria-disabled","true")):(t.isDisabled=!1,t.element.classList.remove("date__button--disabled"),t.element.removeAttribute("aria-disabled","true")),Y(t.date,new Date)?(t.isToday=!0,t.element.classList.add("date__button--today")):(t.isToday=!1,t.element.classList.remove("date__button--today")),t.element.addEventListener("click",F.bind(t),this),t.element.addEventListener("keydown",F.bind(t),this),t}function B(e){return A(e)<A(c.minDate)}function E(e){return A(e)>A(c.maxDate)}function A(e){var t=new Date(e);return t.setHours(0,0,0,0),t}function Y(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function P(){!function(){var e,t,a,n,o=new Date(c.focusedDate.getFullYear(),c.focusedDate.getMonth()+1,0).getDate(),i=new Date(c.previousMonth.getFullYear(),c.previousMonth.getMonth()+1,0).getDate(),s=new Date(new Date(c.focusedDate).setDate(1)).getDay()+1,d=7-new Date(c.focusedDate.getFullYear(),c.focusedDate.getMonth()+1,0).getDay()-1;for(c.days=[],e=s;e>0;e--)c.days.push(C({day:i-e+1,month:c.previousMonth.getMonth(),year:c.previousMonth.getFullYear()}));for(t=1;t<=o;t++)c.days.push(C({day:t,month:c.focusedDate.getMonth(),year:c.focusedDate.getFullYear()}));for(a=1;a<=d;a++)c.days.push(C({day:a,month:c.nextMonth.getMonth(),year:c.nextMonth.getFullYear()}));for(n=0;n<c.days.length;n++)c.days[n].index=n}(),function(){var e,t,a,n,o=1,i=1;for(l.table.body.innerHTML="";++o<8;)for(e=l.table.body.insertRow(-1),a=0;a<7;a++)(t=document.createElement("td")).classList.add("dateCell"),c.days[i]&&(t.appendChild(c.days[i].element),e.appendChild(t)),i++,c.days.length<35&&(e.style.display="none");for(n=0;n<c.days.length;n++)c.days[o].element.setAttribute("tabindex","-1"),Y(c.days[n].date,c.focusedDate)&&D(c.days[n].index)}(),l.heading.innerHTML=u[c.language].months[c.focusedDate.getMonth()]+" "+c.focusedDate.getFullYear(),c.minDate&&c.focusedDate.getMonth()<=c.minDate.getMonth()&&!(c.focusedDate.getFullYear()>c.minDate.getFullYear())?(c.isPreviousEnabled=!1,l.buttons.previousMonthButton.classList.add("date-picker__button--disabled"),l.buttons.previousMonthButton.setAttribute("tabindex","-1"),l.buttons.previousMonthButton.setAttribute("aria-disabled","true")):(c.isPreviousEnabled=!0,l.buttons.previousMonthButton.classList.remove("date-picker__button--disabled"),l.buttons.previousMonthButton.setAttribute("tabindex","0"),l.buttons.previousMonthButton.removeAttribute("aria-disabled","true")),c.maxDate&&c.focusedDate.getMonth()>=c.maxDate.getMonth()&&!(c.focusedDate.getFullYear()<c.maxDate.getFullYear())?(c.isNextEnabled=!1,l.buttons.nextMonthButton.classList.add("date-picker__button--disabled"),l.buttons.nextMonthButton.setAttribute("tabindex","-1"),l.buttons.nextMonthButton.setAttribute("aria-disabled","true")):(c.isNextEnabled=!0,l.buttons.nextMonthButton.classList.remove("date-picker__button--disabled"),l.buttons.nextMonthButton.setAttribute("tabindex","0"),l.buttons.nextMonthButton.removeAttribute("aria-disabled","true"))}!function(){var e,t,a,n,o,i,s,d,r,h,b,g,p,D,f,v="date-picker-label-"+Math.floor(100*Math.random()+1);function m(e,t){var a=document.createElement(e);return t&&Object.keys(t).forEach((function(e){a.setAttribute(e,t[e])})),a}for(a=m("div",{class:"date-picker__dialog date-picker__dialog--hidden",role:"dialog","aria-modal":"true",tabindex:"-1"}),e=m("button",{class:"govuk-button govuk-button--secondary date-picker__button__close",type:"button",value:"close"}),d=m("button",{type:"button",class:"date-picker__button__previous-month","aria-labelledby":v}),t=m("div",{class:"date-picker__container"}),r=m("button",{class:"govuk-link date-picker__reveal",type:"button"}),n=m("div",{class:"date-picker__header govuk-clearfix"}),s=m("button",{type:"button",class:"date-picker__button__next-month","aria-labelledby":v}),o=m("h2",{id:v,class:"date-picker__heading","aria-live":"assertive","aria-atomic":!0}),h=m("table",{class:"date-picker__date-table",role:"grid","aria-labelledby":v}),g=m("thead"),b=m("tbody"),i=m("tr"),D=0,f=u[c.language].days.length;D<f;D++)(p=m("th")).setAttribute("scope","col"),p.setAttribute("abbr",u[c.language].days[D]),p.innerText=u[c.language].dayAbbr[D],i.appendChild(p);r.innerHTML=u[c.language].buttons.dialogTrigger,e.innerHTML=u[c.language].buttons.close,g.appendChild(i),h.appendChild(g),h.appendChild(b),n.appendChild(d),n.appendChild(o),n.appendChild(s),a.appendChild(n),a.appendChild(h),a.appendChild(e),t.appendChild(r),t.appendChild(a),l.container.appendChild(t),l.buttons={revealButton:r,previousMonthButton:d,nextMonthButton:s,closeButton:e},l.table={container:h,head:g,body:b},l.dialog=a,l.heading=o,y("")}(),document.addEventListener("focus",k,!0),document.body.addEventListener("mousedown",M,!0),l.dialog.addEventListener("keydown",x,!0),l.buttons.revealButton.addEventListener("click",_,!0),l.buttons.revealButton.addEventListener("keydown",_,!0),l.buttons.nextMonthButton.addEventListener("click",I,!0),l.buttons.nextMonthButton.addEventListener("keydown",I,!0),l.buttons.previousMonthButton.addEventListener("click",L,!0),l.buttons.previousMonthButton.addEventListener("keydown",L,!0),l.buttons.closeButton.addEventListener("click",w,!0),l.buttons.closeButton.addEventListener("keydown",w,!0)}