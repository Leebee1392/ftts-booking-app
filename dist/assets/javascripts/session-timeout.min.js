function SessionTimeout(e){var n,t,o,i={gb:{title:"Youâ€™re about to be signed out",message:"For your security, we will sign you out in",button:"Stay signed in",second:"second",seconds:"seconds",minute:"minute",minutes:"minutes"},cy:{title:"Rydych ar fin cael eich allgofnodi",message:"Er mwyn eich diogelwch, byddwn yn eich allgofnodi",button:"Aros wedi mewngofnodi",second:"eiliad",seconds:"eiliadau",minute:"munud",minutes:"munudau"}};if(i.ni=i.gb,!(e.timeoutUrl&&e.countdown&&e.language&&e.dialogDelay))return console.warn("SessionTimeout not configured correctly");if(e.dialogDelay>e.countdown)return console.warn("SessionTimeout dialog appears at cannot be greater initial session exp time");if(!(Object.keys(i).indexOf(e.language)>-1))return console.warn("SessionTimeout does not currently support language "+e.language);function a(e){o.isActive&&(e.target===n.dialog||n.dialog.contains(e.target)||(e.stopPropagation(),n.dialog.focus()))}function d(e){o.isActive&&("Escape"!==e.key&&27!==e.keyCode||(e.preventDefault(),r(t.keepAliveUrl)))}function u(e){e.preventDefault(),r(t.keepAliveUrl)}function c(){document.getElementsByTagName("html")[0].setAttribute("class","no-scroll"),document.addEventListener("touchmove",l,!0)}function l(e){1===(e.touches||e.changedTouches||[]).length&&e.preventDefault()}function s(e){var n;return e<60?e+" "+(e>1?t.content.seconds:t.content.second)+".":(n=Math.ceil(e/60))+" "+(n>1?t.content.minutes:t.content.minute)+"."}function r(e){window.location.href=e}function g(){n.countDownSpan.innerHTML=s(t.countdown),t.countdown<=60&&(t.countdown%20==0||10===t.countdown)&&(n.ariaLiveCountdown.innerHTML=t.content.message+" "+s(t.countdown))}n={},o={isActive:!1},t={content:i[e.language],keepAliveUrl:e.keepAliveUrl?e.keepAliveUrl:window.location.href,timeoutUrl:e.timeoutUrl,countdown:e.countdown,activateDialogAt:e.countdown-e.dialogDelay},function(){var e,o,i,a,d,u,c;function l(e,n){var t=document.createElement(e);return n&&Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),t}a=l("div",{role:"dialog",class:"timeout-dialog",tabindex:"-1","aria-labelledby":"dialog-heading dialog-warning"}),e=l("p",{id:"dialog-warning","aria-live":"assertive",class:"govuk-visually-hidden"}),c=l("button",{id:"dialog-button",class:"govuk-button timeout-dialog-button"}),d=l("h1",{id:"dialog-heading",class:"govuk-heading-m"}),i=l("p",{class:"govuk-body","aria-hidden":"true"}),o=l("span",{id:"dialog-span",class:"govuk-!-font-weight-bold"}),u=l("div",{class:"overlay"}),d.innerHTML=t.content.title,i.innerHTML=t.content.message+" ",c.innerHTML=t.content.button,o.innerHTML=s(t.countdown),i.appendChild(o),a.appendChild(d),a.appendChild(i),a.appendChild(e),a.appendChild(c),n.countDownSpan=o,n.dialog=a,n.signOutButton=c,n.ariaLiveCountdown=e,n.overlay=u}(),document.addEventListener("focus",a,!0),document.addEventListener("keydown",d,!0),n.signOutButton.addEventListener("click",u),setInterval((function(){t.countdown-=1,0===t.countdown?(o.isActive=!1,document.removeEventListener("focus",a,!0),document.removeEventListener("keydown",d,!0),document.removeEventListener("touchmove",c,!0),n.signOutButton.removeEventListener("click",u),document.body.removeChild(n.dialog),document.body.removeChild(n.overlay),document.getElementsByTagName("html")[0].classList.remove("no-scroll"),r(t.timeoutUrl)):t.countdown===t.activateDialogAt?(o.isActive=!0,g(),n.ariaLiveCountdown.innerHTML=t.content.message+" "+s(t.countdown),document.body.appendChild(n.overlay),document.body.appendChild(n.dialog),n.dialog.focus(),c()):t.countdown<t.activateDialogAt&&g()}),1e3)}